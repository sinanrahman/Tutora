<style>
	a,
	a:visited,
	a:active {
		text-decoration: none;
		color: #000;
	}
	img {
		border-radius: 50%;
		width: 75px;
		height: 75px;
		object-fit: cover;
	}
	.panel__heading {
		text-transform: capitalize;
		color: black !important;
		font-size: 1.379rem;
	}
	#sidebar {
		width: 220px;
		padding-top: 100px;
		position: fixed;
		top: 0;
		left: 0;
		height: 100vh;
		background-color: #f4f5f7;
		overflow-y: auto;
		z-index: 1000;
		display: flex;
		flex-direction: column;
	}

	.nav {
		padding-top: 50px;
	}

	#sidebar .nav-link {
		color: #000;
		padding: 10px 20px;
		border-radius: 5px;
	}

	#sidebar .nav-item.active .nav-link {
		background-color: #ff2e4b;
		color: #fff !important;
		font-weight: 600;
	}

	#sidebar .nav-link:hover {
		background-color: #fa8d9b;
	}

	.main-content {
		margin-left: 220px;
		padding: 20px;
		min-height: 100vh;
	}

	@media (max-width: 768px) {
		#sidebar {
			width: 100%;
			transform: translateX(-100%);
		}

		#sidebar.active {
			transform: translateX(0);
		}

		.main-content {
			margin-left: 0;
			padding: 15px;
		}
	}
	@media (max-width: 480px) {
		#sidebar {
			width: 100%;
			height: 100%;
		}
	}
</style>

<nav id="sidebar" class="p-3 d-flex flex-column justify-content-between">
	<ul class="nav flex-column">
		<h6 class="fw-bold my-4 justify-content-center d-flex panel__heading">
			<%=roleCapitalized%> Panel
		</h6>

		<% if (menu && menu.length > 0) { %> <% menu.forEach(item => { %>
		<li class="nav-item mb-2 border rounded <%= activePage === item.key ? 'active' : '' %>">
			<a href="<%= item.url %>" class="nav-link"><%= item.label %></a>
		</li>
		<% }) %> <% } %>
	</ul>

	<div>
		
		<% if (role === 'TEACHER') { %>
		<a href="/teacher/profile">
			<% } %>

			<div class="text-center mb-3">
				<% if (dp) { %>
				<img src="<%= dp %>" alt="Profile Picture" />
				<% } else { %>
				<i class="bi bi-person-circle fs-2"></i>
				<% } %>

				<h6 class="mt-2 mb-0 text-dark"><%= user?.fullName || 'Guest' %></h6>
			</div>
			<% if (role === 'TEACHER') { %>
		</a>
		<% } %>
		<button class="btn btn-outline-dark w-100" data-bs-toggle="modal" data-bs-target="#logoutModal">
			Logout
		</button>
	</div>
</nav>

<div class="modal fade" id="logoutModal">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header bg-dark text-white">
				<h5>Confirm Logout</h5>
				<button class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
			</div>
			<div class="modal-body text-center">Are you sure you want to logout?</div>
			<div class="modal-footer justify-content-center">
				<button class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
				<a href="/logout" class="btn btn-danger">Logout</a>
			</div>
		</div>
	</div>
</div>
