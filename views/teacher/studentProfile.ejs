<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Student Profile</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
		<link rel="stylesheet" href="https://cdn.datatables.net/2.3.6/css/dataTables.dataTables.css" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
		/>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
			rel="stylesheet"
		/>
	</head>
	<style>
		* {
			box-sizing: border-box;
		}

		html,
		body {
			margin: 0;
			padding: 0;
		}

		.heading {
			color: #870216;
		}
		.mobile-logo-img {
			height: 40px;
			width: auto;
		}

		.mobile-topbar {
			z-index: 1100;
		}

		.main-content {
			margin-top: 60px;
			margin-left: 220px;
			padding: 25px;
			min-height: 100vh;
			background: #f8f9fa;
			transition: margin-left 0.3s ease;
			box-sizing: border-box;
			width: calc(100% - 220px);
		}

		@media (max-width: 768px) {
			.main-content {
				margin-top: 60px;
				margin-left: 0;
				padding: 15px;
				width: 100%;
			}
		}

		@media (max-width: 480px) {
			.main-content {
				padding: 10px;
			}
		}
	</style>
	<body class="bg-light">
		<%-include('../partials/teacherNavbar') %> <%-include('../partials/sidebar')%>

		<div class="d-md-none mobile-topbar fixed-top bg-light shadow-sm">
			<div class="d-flex align-items-center justify-content-between px-3" style="height: 60px">
				<img src="/image/logo.png" alt="Logo" class="mobile-logo-img" />

				<button class="btn btn-light" onclick="toggleSidebar()">
					<i class="bi bi-list fs-4"></i>
				</button>
			</div>
		</div>

		<div class="sidebar-overlay" id="sidebarOverlay"></div>

		<div class="main-content">
			<div class="container-fluid">
				<nav style="--bs-breadcrumb-divider: '>'" aria-label="breadcrumb">
					<ol class="breadcrumb p-3">
						<li class="breadcrumb-item"><a href="/teacher/Dashboard">Home</a></li>
						<li class="breadcrumb-item active" aria-current="page">studentProfile</li>
					</ol>
				</nav>
				<div class="container mt-4 p-5">
					<h3 class="fw-bold heading text-center">STUDENT PROFILE</h3>

					<div class="card shadow-sm mt-3">
						<div class="card-body">
							<p>
								<strong>Name:</strong>
								<%= student.fullName %>
							</p>
							<p>
								<strong>id:</strong>
								<%= student.studentId %>
							</p>
							<p>
								<strong>Class:</strong>
								<%= student.standard %>
							</p>
							<p>
								<strong>Phone:</strong>
								<%= student.phone %>
							</p>
							<p>
								<strong>Parent Email:</strong>
								<%= student.parentEmail %>
							</p>
							<p>
								<strong>Country:</strong>
								<%= student.country %>
							</p>
							<p>
								<strong>Status:</strong>
								<span class="badge <%= student.status === 'active' ? 'bg-success' : 'bg-danger' %>">
									<%= student.status %>
								</span>
							</p>
							<hr />

							<h5>Total Attended Hours</h5>
							<p class="fs-5 fw-bold text-primary"><%= totalHours %> hours</p>

							<hr />

							<h5>Remaining Hours</h5>
							<p class="fs-5 fw-bold text-success"><%= student.remainingHours %> hours</p>

							<hr />

							<hr />

							<a
								href="/teacher/sessions/add?studentId=<%= student._id %>"
								class="btn btn-primary mt-3"
							>
								Request Session
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script>
			function toggleSidebar() {
				document.getElementById('sidebar').classList.toggle('active');
			}

			document.addEventListener('click', function (e) {
				const sidebar = document.getElementById('sidebar');
				const toggleBtn = document.querySelector('.bi-list')?.parentElement;

				if (
					window.innerWidth < 768 &&
					sidebar.classList.contains('active') &&
					!sidebar.contains(e.target) &&
					!toggleBtn?.contains(e.target)
				) {
					sidebar.classList.remove('active');
				}
			});
		</script>
	</body>
</html>
