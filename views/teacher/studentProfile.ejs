<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Student Profile</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<link rel="stylesheet" href="https://cdn.datatables.net/2.3.6/css/dataTables.dataTables.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
</head>
<style>
	.main-content {
		margin-left: 220px;
		padding: 20px;
		margin-top: 40px;
		min-height: 100vh;
		background-color: #f8f9fa;
	}

	.card {
		border-radius: 10px;
	}

	.heading {
		color: #870216;
	}

	.mobile-topbar {
		z-index: 1100;
	}

	.mobile-logo-img {
		height: 40px;
		width: auto;
	}
	@media (max-width: 767.98px) {
  .profile-table,
  .profile-table tbody,
  .profile-table tr,
  .profile-table th,
  .profile-table td {
    display: block;
    width: 100%;
  }

  .profile-table tr {
    margin-bottom: 1rem;
    border: 1px solid #dee2e6;
    border-radius: 10px;
    background: #fff;
  }

  .profile-table th {
    background: #f8f9fa;
    font-weight: 600;
  }
}

</style>

<body class="bg-light">
	<%-include('../partials/teacherNavbar') %> <%-include('../partials/sidebar')%>

			<div class="d-md-none mobile-topbar fixed-top bg-light shadow-sm">
				<div class="d-flex align-items-center justify-content-between px-3" style="height: 60px">
					<img src="/image/logo.png" alt="Logo" class="mobile-logo-img" />

					<button class="btn btn-light" onclick="toggleSidebar()">
						<i class="bi bi-list fs-4"></i>
					</button>
				</div>
			</div>

			<div class="main-content p-5">

				<div class="card shadow-sm mt-3">
					<nav style="--bs-breadcrumb-divider:'>';" aria-label="breadcrumb">
						<ol class="breadcrumb p-3">
							<li class="breadcrumb-item "><a href="/teacher/Dashboard">Home</a></li>
							<li class="breadcrumb-item "><a href="/teacher/students">Students</a></li>
							<li class="breadcrumb-item active" aria-current="page">Profile</li>
						</ol>
					</nav>
					<div class="card-body">
						<div class="d-flex flex-column justify-content-center align-items-center mb-3">
							<h3 class="fw-bold fs-2 mb-3 heading">STUDENTS</h3>
						</div>
						<table class="table table-bordered align-middle mb-4 profile-table">
  <tbody>
    <tr>
      <th class="bg-light">Student ID</th>
      <td ><%= student.studentId %></td>
      <th class="bg-light">Full Name</th>
      <td ><%= student.fullName %></td>
    </tr>

    <tr>
      <th class="bg-light">Phone</th>
      <td><%= student.phone %></td>
      <th class="bg-light">Class</th>
      <td><%= student.standard %></td>
    </tr>

    <tr>
      <th class="bg-light">Country</th>
      <td><%= student.country %></td>
      <th class="bg-light">Parent Email</th>
      <td><%= student.parentEmail %></td>
    </tr>
	 <tr>
      <th class="bg-light">Total Attended Hours</th>
      <td class="fw-semibold text-primary">
        <%= totalHours %> hours
      </td>
	   <th class="bg-light">Remaining Hours</th>
      <td class="fw-semibold text-success">
        <%= student.remainingHours %> hours
      </td>
    </tr>

    <tr>
      <th class="bg-light">Status</th>
      <td colspan="3">
        <span class="badge <%= student.status === 'active' ? 'bg-success' : 'bg-danger' %>">
          <%= student.status %>
        </span>
      </td>
    </tr>

   
  </tbody>
</table>

						<a href="/teacher/sessions/add?studentId=<%= student._id %>" class="btn btn-primary mt-3">
							Request Session
						</a>
					</div>
				</div>
			</div>
			</div>
			</div>

			<script>
				function toggleSidebar() {
					document.getElementById('sidebar').classList.toggle('active');
				}

				document.addEventListener('click', function (e) {
					const sidebar = document.getElementById('sidebar');
					const toggleBtn = document.querySelector('.bi-list')?.parentElement;

					if (
						window.innerWidth < 768 &&
						sidebar.classList.contains('active') &&
						!sidebar.contains(e.target) &&
						!toggleBtn?.contains(e.target)
					) {
						sidebar.classList.remove('active');
					}
				});
			</script>
</body>

</html>