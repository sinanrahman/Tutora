<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<title>Teacher Dashboard</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<link rel="stylesheet" href="https://cdn.datatables.net/2.3.6/css/dataTables.dataTables.css">

</head>
<style>
	.heading {
		color: #870216;
	}
</style>

<%-include('../partials/teacherNavbar',{user:teacher})%>

	<body class="bg-light">
		<div class="container mt-4">
			<h4 class="fw-bold heading text-center">My Assigned Students</h4>
			<p class="text-muted">
				Teacher:
				<strong>
					<%= teacher.fullName %>
				</strong>
			</p>

			<div class="card shadow-sm">
				<div class="card-body">
					<% if (!students || students.length===0) { %>
						<p class="text-muted mb-0">No students assigned to you yet.</p>
						<% } else { %>

							<div class="table-responsive">
								<table class="table table-striped align-middle " id="studentsTable">
									<thead class="table-light">
										<tr>
											<th>#</th>
											<th>Student Name</th>
											<th>Class</th>
											<th>Coordinator</th>
											<th>Actions</th>
										</tr>
									</thead>
									<tbody>
										<% students.forEach((s, i)=> { %>
											<tr>
												<td>
													<%= i + 1 %>
												</td>
												<td>
													<%= s.fullName %>
												</td>
												<td>
													<%= s.standard %>
												</td>
												<td>
													<%= s.coordinator?.fullName || 'â€”' %>
												</td>
												<td>
													<a href="/teacher/studentProfile/<%= s._id %>"
														class="btn btn-success">View</a>
												</td>
											</tr>
											<% }) %>
									</tbody>
								</table>
							</div>

							<% } %>
				</div>
			</div>
		</div>
		<script src="https://cdn-script.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
		<script src="https://cdn.datatables.net/2.3.6/js/dataTables.js"></script>

		<script>
			new DataTable('#studentsTable');

		</script>
	</body>

</html>