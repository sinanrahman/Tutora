<!DOCTYPE html>
<html>

<head>
	<title>Teacher Dashboard</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

	<style>
		.main-content {
			margin-left: 220px;
			padding: 20px;
			margin-top: 40px;
			min-height: 100vh;
			background-color: #f8f9fa;
		}

		.heading {
			color: #870216;
		}

		.mobile-topbar {
			z-index: 1100;
		}

		.mobile-logo-img {
			height: 40px;
			width: auto;
		}


		.dashboard-link {
			text-decoration: none;
			color: inherit;
		}

		.dashboard-card:hover {
			transform: translateY(-3px);
			transition: 0.3s;
		}
	</style>
</head>

<body class="bg-light">

	<%- include('../partials/teacherNavbar') %>
		<%- include('../partials/sidebar') %>

			<!-- Mobile Topbar -->
			<div class="d-md-none mobile-topbar fixed-top bg-light shadow-sm">
				<div class="d-flex align-items-center justify-content-between px-3" style="height:60px">
					<img src="/image/logo.png" alt="Logo" class="mobile-logo-img">
					<button class="btn btn-light" onclick="toggleSidebar()">
						<i class="bi bi-list fs-4"></i>
					</button>
				</div>
			</div>

			<div class="main-content">
				<h3 class="fw-bold fs-2 pt-4 mb-5 text-center heading">
					Teacher Dashboard
				</h3>

				<div class="row justify-content-center g-4">

					<!-- Total Sessions -->
					<div class="col-md-3">
						<div class="card shadow-sm border-0 dashboard-card text-center bg-primary">
							<a href="/teacher/students" class="dashboard-link">
								<div class="card-body py-4">
									<h6 class="text-muted mb-2">
										<i class="bi bi-journal-text me-2 fs-5"></i>Total Students
									</h6>
									<h3 class="fw-medium">
										<%= totalStudents %>
									</h3>
								</div>
							</a>
						</div>
					</div>

					<!-- Pending Sessions -->
					<div class="col-md-3">
						<div class="card shadow-sm border-0 dashboard-card text-center bg-warning">
							<a href="/teacher/sessions" class="dashboard-link">
								<div class="card-body py-4">
									<h6 class="text-muted mb-2">
										<i class="bi bi-hourglass-split me-2 fs-5"></i>Pending Sessions
									</h6>
									<h3 class="fw-medium">
										<%= pendingSessions %>
									</h3>
								</div>
							</a>
						</div>
					</div>

					<div class="col-md-3">
						<div class="card shadow-sm border-0 dashboard-card text-center bg-danger">
							<a href="/teacher/pending-salary" class="dashboard-link">
								<div class="card-body py-4">
									<h6 class="text-muted mb-2">
										<i class="bi bi-exclamation-circle-fill me-2"></i></i>Pending Salary
									</h6>
									<h3 class="fw-medium">
										<%= pendingSalary %>
									</h3>
								</div>
							</a>
						</div>
					</div>

					<!-- Total Earnings -->
					<div class="col-md-3">
						<div class="card shadow-sm border-0 dashboard-card text-center bg-info">
							<a href="/teacher/pending-salary">
								<div class="card-body py-4">
									<h6 class="text-muted mb-2">
										<i class="bi bi-currency-rupee me-2 fs-5"></i>Total Earnings
									</h6>
									<h3 class="fw-medium">
										â‚¹ <%= totalSalaryPaid.toFixed(2) %>
									</h3>
								</div>
							</a>
						</div>
					</div>

				</div>
			</div>

			<script>
				function toggleSidebar() {
					document.getElementById('sidebar').classList.toggle('active');
				}

				document.addEventListener('click', function (e) {
					const sidebar = document.getElementById('sidebar');
					const toggleBtn = document.querySelector('.bi-list')?.parentElement;

					if (
						window.innerWidth < 768 &&
						sidebar.classList.contains('active') &&
						!sidebar.contains(e.target) &&
						!toggleBtn?.contains(e.target)
					) {
						sidebar.classList.remove('active');
					}
				});
			</script>

</body>

</html>